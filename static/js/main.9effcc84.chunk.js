(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,t,n){e.exports=n(38)},18:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),c=n(11),u=n.n(c),r=(n(18),n(2)),i=n(3),l=n.n(i),s=function(e){return a.a.createElement("ul",null,e.items.map(function(t){return a.a.createElement("li",{key:t.id,onClick:e.onClick.bind(void 0,t.id)},t.name)}))},d=function(e){var t=Object(o.useState)(!1),n=Object(r.a)(t,2),c=n[0],u=n[1],i=Object(o.useRef)(),d=Object(o.useReducer)(function(e,t){switch(t.type){case"ADD":return e.concat(t.payload);case"SET":return t.payload;case"REMOVE":return e.filter(function(e){return e.id!==t.payload});default:return e}},[]),f=Object(r.a)(d,2),m=f[0],p=f[1];Object(o.useEffect)(function(){return l.a.get("https://hooks2.firebaseio.com/todos.json").then(function(e){var t=e.data,n=[];for(var o in t)n.push({id:o,name:t[o].name});p({type:"SET",payload:n})}),function(){console.log("Cleanup")}},[]);var b=function(e){l.a.delete("https://hooks2.firebaseio.com/todos/".concat(e,".json")).then(function(t){p({type:"REMOVE",payload:e})}).catch(function(e){return console.log(e)})};return a.a.createElement(a.a.Fragment,null,a.a.createElement("input",{type:"text",placeholder:"Todo",ref:i,onChange:function(e){""===e.target.value.trim()?u(!1):u(!0)},style:{backgroundColor:c?"transparent":"red"}}),a.a.createElement("button",{type:"button",onClick:function(){var e=i.current.value;l.a.post("https://hooks2.firebaseio.com/todos.json",{name:e}).then(function(t){setTimeout(function(){var n={id:t.data.name,name:e};p({type:"ADD",payload:n})},3e3)}).catch(function(e){console.log(e)})}},"Add"),Object(o.useMemo)(function(){return a.a.createElement(s,{items:m,onClick:b})},[m]))},f=a.a.createContext({status:!1,login:function(){}}),m=function(e){var t=Object(o.useContext)(f);return a.a.createElement("header",null,t.status?a.a.createElement("button",{onClick:e.onLoadTodos},"Todo List"):null,a.a.createElement("button",{onClick:e.onLoadAuth},"Auth"))},p=function(e){var t=Object(o.useContext)(f);return a.a.createElement("button",{onClick:t.login},"Log in!")},b=function(e){var t=Object(o.useState)("auth"),n=Object(r.a)(t,2),c=n[0],u=n[1],i=Object(o.useState)(!1),l=Object(r.a)(i,2),s=l[0],b=l[1],E=function(e){u(e)};return a.a.createElement("div",{className:"App"},a.a.createElement(f.Provider,{value:{status:s,login:function(){b(!0)}}},a.a.createElement(m,{onLoadTodos:E.bind(void 0,"todos"),onLoadAuth:E.bind(void 0,"auth")}),"auth"===c?a.a.createElement(p,null):a.a.createElement(d,null)))};u.a.render(a.a.createElement(b,null),document.getElementById("root"))}},[[12,1,2]]]);
//# sourceMappingURL=main.9effcc84.chunk.js.map